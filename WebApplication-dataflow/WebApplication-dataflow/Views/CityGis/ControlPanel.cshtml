@Scripts.Render("~/bundles/WebApi")
@Scripts.Render("~/bundles/CityGisController")
@{
    ViewBag.Title = "ControlPanel";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}
<script type="text/javascript" src="~/Scripts/d3/d3.js"></script>
<script type="text/javascript" src="~/Scripts/angular-nvd3.js"></script>
<script type="text/javascript" src="~/Scripts/nv.d3.js"></script>
<link rel="stylesheet" href="~/Content/nv.d3.css" />


<h1>@ViewBag.Title</h1>
<hr />
<div id="dataflowApp">
    <div ng-controller="AlertController">
        <div class="row">
            <div class="col-sm-3">
                <div class="well well-lg alert-item-red">
                    <h1>{{ timeString }}</h1>
                    <h4>{{ dateString }}</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-green">
                    <h1>{{ unitInformationWarnings }}</h1>
                    <h4>Units have a bad connection</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-blue">
                    <h1>{{ unitDiskSpaceWarnings }}</h1>
                    <h4>Units have an almost full disk</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-purple">
                    <h1>{{ averageConnectionTime }}</h1>
                    <h4>Average connection time (in seconds)</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div ng-controller="ConnectionController">
            <div class="col-sm-6">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">Connection graph</a>
                            </h4>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <div google-chart chart="chartObject" style="height:600px; width:100%;"></div>
                                Total average: {{totalAverage}} seconds
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-controller="AnalysedDataController">
            <div class="col-sm-6">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">Unit information graph</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <h4>Unit information</h4>
                                <div id="chartArea"></div>
                                <p>Looks at units with a bad connection. The X-Axis is the amount of (bad connection) occurrences.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div ng-app="gertApp">
        <div class="row">
            <div class="col-sm-8">
                <div ng-controller="diskSpace2Controller">
                    <div class="panel panel-default">
                        <div class="panel-heading">Diskspace analysis</div>
                        <div class="panel-body">
                            <h1>Diskspace analysis</h1>
                            <nvd3 data="data" options="options"></nvd3>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div ng-controller="diskSpaceController">
                    <div class="panel panel-default">
                        <div class="panel-heading">Diskspace analysis</div>
                        <div class="panel-body">
                            <h1>Diskspace analysis</h1>
                            <nvd3 data="data" options="options"></nvd3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




