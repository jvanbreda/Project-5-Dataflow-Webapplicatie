@{
    ViewBag.Title = "CityGis Dashboard";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<h1>@ViewBag.Title</h1>
<hr />
<div ng-app="dataflowApp">
    <div ng-controller="AlertController">
        <div class="row">
            <div class="col-sm-3">
                <div class="well well-lg alert-item-red">
                    <h1>{{ timeString }}</h1>
                    <h4>{{ dateString }}</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-green">
                    <h1>{{ unitInformationWarnings }}</h1>
                    <h4>Units have a bad connection</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-blue">
                    <h1>{{ unitDiskSpaceWarnings }}</h1>
                    <h4>Units have an almost full disk</h4>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="well well-lg alert-item-purple">
                    <h1>{{ averageConnectionTime }}</h1>
                    <h4>Average connection time (in seconds)</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div ng-controller="ConnectionController">
            <div class="col-sm-6">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">Connection graph</a>
                            </h4>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <div google-chart chart="chartObject" style="height:600px; width:100%;"></div>
                                Total average: {{totalAverage}} seconds
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-controller="AnalysedDataController">
            <div class="col-sm-6">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">Unit information graph</a>
                            </h4>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <h4>Unit information</h4>
                                <div id="chartArea"></div>
                                <p>Looks at units with a bad connection. The X-Axis is the amount of (bad connection) occurrences.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/CityGisController")

